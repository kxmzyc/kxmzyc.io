# 📐 校内行政办公系统 - 系统概览

## 系统架构

```
┌─────────────────────────────────────────────────────────────┐
│                     浏览器 (Frontend)                         │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  ┌──────────────────────────────────────────────────────┐   │
│  │              HTML 页面结构 (index.html)              │   │
│  │  ├─ 登录页面                                         │   │
│  │  └─ 主系统页面                                       │   │
│  └──────────────────────────────────────────────────────┘   │
│                           ↓                                   │
│  ┌──────────────────────────────────────────────────────┐   │
│  │          CSS 样式 (css/style.css)                   │   │
│  │  ├─ 响应式布局                                       │   │
│  │  ├─ 组件样式                                         │   │
│  │  ├─ 动画效果                                         │   │
│  │  └─ 媒体查询                                         │   │
│  └──────────────────────────────────────────────────────┘   │
│                           ↓                                   │
│  ┌──────────────────────────────────────────────────────┐   │
│  │      JavaScript 逻辑 (js/app.js)                    │   │
│  │  ├─ 用户认证                                         │   │
│  │  ├─ 模块管理                                         │   │
│  │  ├─ 表单处理                                         │   │
│  │  ├─ 事件绑定                                         │   │
│  │  └─ 状态管理                                         │   │
│  └──────────────────────────────────────────────────────┘   │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

## 应用流程图

```
                        ┌──────────────┐
                        │   应用启动    │
                        └──────┬───────┘
                               │
                        ┌──────▼───────┐
                        │  初始化事件   │
                        └──────┬───────┘
                               │
                        ┌──────▼───────┐
                        │  显示登录页   │
                        └──────┬───────┘
                               │
                        ┌──────▼───────┐
                    ┌───│  输入账号    │───┐
                    │   └──────────────┘   │
                    │                      │
            ┌───────▼────────┐    ┌───────▼────────┐
            │   验证成功      │    │   验证失败      │
            └───────┬────────┘    └────────────────┘
                    │                      │
            ┌───────▼─────────────────────▼────┐
            │        显示主系统页面             │
            └───────┬─────────────────────────┘
                    │
        ┌───────────┼───────────┬────────────┬───────────┬──────────┐
        │           │           │            │           │          │
   ┌────▼──┐  ┌────▼──┐  ┌───▼──┐  ┌─────▼──┐  ┌───▼──┐  ┌──▼───┐
   │仪表板  │  │报表   │  │材料  │  │请假    │  │报修  │  │我的  │
   │        │  │填写   │  │审核  │  │申请    │  │申请  │  │申请  │
   └────────┘  └───┬───┘  └──┬───┘  └──┬────┘  └──┬───┘  └──────┘
               ┌───▼────────▼──────────▼────────▼──┐
               │      用户进行相应操作             │
               │   - 新建表单                      │
               │   - 提交申请                      │
               │   - 审核批准/驳回                │
               └──────────────┬───────────────────┘
                              │
                        ┌─────▼─────┐
                        │  状态更新  │
                        │   显示反馈  │
                        └────────────┘
```

## 用户认证流程

```
┌──────────────────────┐
│   用户登录页面       │
├──────────────────────┤
│ 用户名: ___________  │
│ 密码:   ___________  │
│ 角色:   [选择]      │
│                     │
│ [   登   录   ]    │
└──────┬───────────────┘
       │
       ▼
┌──────────────────────┐
│  验证用户信息        │
│ - 检查用户名        │
│ - 检查密码          │
│ - 检查角色          │
└──────┬───────────────┘
       │
       ├─────────────┬──────────────┐
       │             │              │
  ✓ 成功      ✗ 失败         ✗ 失败
   │             │              │
   ▼             ▼              ▼
┌─────────┐  ┌─────────┐  ┌─────────┐
│ 进入    │  │ 显示    │  │ 显示    │
│ 主页面  │  │ 错误    │  │ 错误    │
└─────────┘  │ 提示    │  │ 提示    │
             └─────────┘  └─────────┘
```

## 模块结构

```
系统 (admin-system)
│
├── 登录模块
│   ├── 登录表单
│   ├── 账号验证
│   └── 角色选择
│
├── 仪表板模块
│   ├── 统计卡片
│   │   ├── 待填报表数
│   │   ├── 待审核材料数
│   │   ├── 待处理请假数
│   │   └── 待处理报修数
│   └── 活动记录
│       ├── 提交记录
│       ├── 批准记录
│       └── 时间戳
│
├── 报表填写模块
│   ├── 新建报表
│   ├── 报表列表
│   ├── 搜索功能
│   └── 提交处理
│
├── 材料审核模块
│   ├── 待审核列表
│   ├── 批准功能
│   ├── 驳回功能
│   ├── 过滤器
│   └── 状态显示
│
├── 请假申请模块
│   ├── 新建申请
│   ├── 假期类型选择
│   ├── 日期选择器
│   ├── 天数自动计算
│   ├── 申请列表
│   └── 状态追踪
│
├── 报修申请模块
│   ├── 新建申请
│   ├── 维修类型
│   ├── 优先级设置
│   ├── 申请列表
│   └── 进度追踪
│
├── 我的申请模块
│   ├── 申请卡片
│   ├── 状态标签
│   ├── 按状态分类
│   └── 详情显示
│
└── UI组件
    ├── 侧边栏
    ├── 顶部栏
    ├── 表单
    ├── 表格
    ├── 按钮
    ├── 模态框
    └── 徽章

```

## 请假申请工作流程

```
┌─────────────────────────────────────────────┐
│            员工提交请假申请                  │
│ - 选择请假类型 (年假/病假/事假等)          │
│ - 选择起止日期                              │
│ - 输入请假原因                              │
│ - 联系电话                                  │
└──────────────┬──────────────────────────────┘
               │
               ▼
        ┌────────────────┐
        │  系统验证表单   │
        │ - 检查必填项   │
        │ - 自动计算天数 │
        └────────┬───────┘
                 │
                 ▼
        ┌────────────────┐
        │  存储申请信息   │
        │  状态: 待批准   │
        └────────┬───────┘
                 │
                 ▼
    ┌────────────────────────────┐
    │  部门主管审核              │
    ├────────────────────────────┤
    │ ✓ 批准 → 状态: 已批准      │
    │ ✗ 驳回 → 状态: 已驳回      │
    └────────┬───────────────────┘
             │
      ┌──────┴──────┐
      │             │
  ┌───▼──┐      ┌──▼───┐
  │已批准 │      │已驳回 │
  │流程完│      │需重新 │
  │结       │      │申请   │
  └───────┘      └──────┘
```

## 材料审核流程

```
┌─────────────────────────────────────────────┐
│           用户提交申请材料                  │
│ - 部门经费预算                              │
│ - 项目改造方案                              │
│ - 设备采购申请                              │
│ - 其他审核材料                              │
└──────────────┬──────────────────────────────┘
               │
               ▼
    ┌────────────────────────┐
    │  系统接收并记录申请     │
    │  状态: 待审核          │
    └────────┬───────────────┘
             │
             ▼
    ┌────────────────────────┐
    │  管理员审核            │
    │  - 查看附件            │
    │  - 审查内容            │
    │  - 进行决策            │
    └────────┬───────────────┘
             │
      ┌──────┴──────────┐
      │                 │
  ┌───▼──────┐      ┌──▼────────┐
  │  批准     │      │  驳回      │
  ├───────────┤      ├────────────┤
  │状态: 已批准│      │状态: 已驳回│
  │标签: 绿色  │      │标签: 红色  │
  │允许下一步  │      │要求修改   │
  └───────────┘      └────────────┘
```

## 数据流转

```
用户操作
   │
   ▼
┌──────────────┐
│  事件监听器   │
└──────┬───────┘
       │
       ▼
┌──────────────────────┐
│  JavaScript 处理     │
│ - 表单验证           │
│ - 数据处理           │
│ - 状态更新           │
└──────┬───────────────┘
       │
       ▼
┌──────────────────────┐
│  DOM 操作            │
│ - 更新页面内容       │
│ - 显示/隐藏元素      │
│ - 改变样式           │
└──────┬───────────────┘
       │
       ▼
┌──────────────────────┐
│  CSS 动画效果        │
│ - 过渡效果           │
│ - 淡入淡出           │
│ - 缩放动画           │
└──────┬───────────────┘
       │
       ▼
┌──────────────────────┐
│  用户看到结果        │
└──────────────────────┘
```

## 响应式布局断点

```
┌─────────────────────────────────────────────────┐
│                  超小屏幕 (< 480px)              │
│  单列布局，侧边栏改为横向，字体较小              │
├─────────────────────────────────────────────────┤
│              小屏幕 (480px - 768px)              │
│  单列布局，侧边栏顶部，2x2 网格                  │
├─────────────────────────────────────────────────┤
│              平板设备 (768px - 1024px)           │
│  侧边栏纵向，2 列网格，表格可横向滚动            │
├─────────────────────────────────────────────────┤
│                 桌面端 (> 1024px)                │
│  侧边栏纵向固定，多列网格，完整表格              │
└─────────────────────────────────────────────────┘
```

## 颜色系统

```
┌──────────────────────────────────────┐
│          配色方案                     │
├──────────────────────────────────────┤
│ 主色      #2563eb (蓝色)             │
│   用途：按钮、链接、强调              │
│                                      │
│ 成功色    #10b981 (绿色)             │
│   用途：已批准、完成状态              │
│                                      │
│ 危险色    #ef4444 (红色)             │
│   用途：已驳回、错误、警告            │
│                                      │
│ 信息色    #0ea5e9 (青色)             │
│   用途：处理中、进行中状态            │
│                                      │
│ 警告色    #f59e0b (橙色)             │
│   用途：待处理、需要注意              │
│                                      │
│ 文字      #1f2937 (深灰)             │
│   用途：主文本                        │
│                                      │
│ 背景      #f9fafb (浅灰)             │
│   用途：页面背景                      │
└──────────────────────────────────────┘
```

## 组件状态转移

```
              ┌─────────────┐
              │   初始状态   │
              └──────┬──────┘
                     │
        ┌────────────┼────────────┐
        │            │            │
    ┌───▼───┐    ┌──▼───┐    ┌──▼───┐
    │待处理  │    │处理中 │    │已完成 │
    │status: │    │status:│    │status:│
    │pending │    │active │    │done  │
    └───┬───┘    └───┬───┘    └──────┘
        │            │
        └────┬───────┘
             │
        ┌────▼─────┐
        │驳回状态   │
        │status:   │
        │rejected  │
        └──────────┘
```

## 功能覆盖矩阵

| 功能 | 用户 | 管理员 | 部门主管 |
|------|------|--------|---------|
| 查看仪表板 | ✓ | ✓ | ✓ |
| 填写报表 | ✓ | ✓ | ✓ |
| 提交报表 | ✓ | ✓ | ✓ |
| 审核材料 | - | ✓ | ✓ |
| 批准申请 | - | ✓ | ✓ |
| 请假申请 | ✓ | ✓ | ✓ |
| 报修申请 | ✓ | ✓ | ✓ |
| 查看我的申请 | ✓ | ✓ | ✓ |
| 退出登录 | ✓ | ✓ | ✓ |

---

**该文档展示了系统的整体架构和各模块的交互流程。**

更多详细信息请查看 `README.md` 和 `QUICKSTART.md`。
